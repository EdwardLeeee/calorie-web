<!-- templates/admin_index.html -->
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8" />
  <title>後台：Food 管理</title>
</head>
<body>
  <h2>官方食物列表</h2>
  <table border="1" cellpadding="4">
    <tr>
      <th>ID</th>
      <th>名稱</th>
      <th>熱量</th>
      <th>蛋白質</th>
      <th>脂肪</th>
      <th>碳水</th>
      <th>操作</th>
    </tr>
    {% for f in foods %}
      <tr>
        <!-- 更新用表單 -->
        <form action="{{ url_for('update_food', food_id=f.id) }}" method="post">
          <td>{{ f.id }}</td>
          <td><input name="name" value="{{ f.name }}"></td>
          <td><input name="calories"  value="{{ f.calories }}"></td>
          <td><input name="protein"   value="{{ f.protein }}"></td>
          <td><input name="fat"       value="{{ f.fat }}"></td>
          <td><input name="carbs"     value="{{ f.carbs }}"></td>
          <td>
            <button type="submit">更新</button>
        </form>
        <!-- 刪除用表單 -->
        <form action="{{ url_for('delete_food', food_id=f.id) }}" method="post" style="display:inline">
            <button type="submit">刪除</button>
        </form>
          </td>
      </tr>
    {% endfor %}
  </table>

  <h3>新增食物</h3>
  <form action="{{ url_for('add_food') }}" method="post">
    名稱 <input name="name" required>
    熱量 <input name="calories" type="number" step="0.1" required>
    蛋白質 <input name="protein" type="number" step="0.1" required>
    脂肪 <input name="fat" type="number" step="0.1" required>
    碳水 <input name="carbs" type="number" step="0.1" required>
    <button type="submit">新增</button>
  </form>

  <hr>
  <form action="{{ AUTH_BASE }}/logout" method="post">
    <button type="submit">登出</button>
  </form>
</body>
</html>

